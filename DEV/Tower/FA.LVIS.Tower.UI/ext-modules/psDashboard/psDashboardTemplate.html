<div antiforgerytoken></div>
<div class="ps-dashboard-header" ng-controller="psDashboardController as DashBoardCtrl" ng-init="DashBoardCtrl.getCurrentUser();">
    <!--<ul class="breadcrumb">
        <li class="subbreadcrumb">
            <ps-sub-menu>
                <ps-sub-menu-item label="Overview" route="overview"></ps-sub-menu-item>
            </ps-sub-menu>
        </li>
    </ul>-->
    <br /><br />
    <div>
        <div class="col-md-6">
            <div class="widget widget-nopad">
                <div class="widget-header">
                    <i class="fa fa-exclamation-triangle" style="margin-left:0.5em"></i>
                    <h3 style="margin:0px"> Business Exception Queue</h3>
                </div>

                <div class="dashboard-widget-content" style="overflow-y:auto;">                 
                    <div ng-show="!DashBoardCtrl.BEQSummaryList">
                        <i class="fa fa-spinner fa-spin fa-3x fa-fw margin-bottom"></i>
                        <span class="sr-only">Loading...</span>
                    </div>

                    <div class="shortcuts">
                        <a href="#/businessexception/{{Exception.ExceptionName}}"   ng-class="{'shortcut shortcut-danger':Exception.NoOfExceptions >= Exception.ThreshholdCount,'shortcut shortcut-info':Exception.NoOfExceptions < Exception.ThreshholdCount}" ng-repeat="Exception in DashBoardCtrl.BEQSummaryList | limitTo:20">
                                <span  ng-class="{'shortcut-header':Exception.NoOfExceptions >= Exception.ThreshholdCount,'shortcut-headerSuccess':Exception.NoOfExceptions < Exception.ThreshholdCount}">{{Exception.ExceptionName}}</span>
                                <span class="value">{{Exception.NoOfExceptions}}</span><br />
                                <span class="value">{{Exception.DateTime}}</span>
                            </a>
                    </div>
                    <!-- /shortcuts -->
                </div>
                <!-- /widget-content -->
            </div>
        </div>
        <div class="col-md-6">
            <div class="widget">
                <div class="widget-header">
                    <i class="icon-signal"></i>
                    <h3 style="margin:0px">Business Exceptions</h3>
                </div>
                <!-- /widget-header -->
                <div class="dashboard-widget-content" ng-controller="BEQLineCtrl as LnCtrl">
                    <div ng-show="!LnCtrl.data">
                        <i class="fa fa-spinner fa-spin fa-3x fa-fw margin-bottom"></i>
                        <span class="sr-only">Loading...</span>
                    </div>
                    <!--<canvas id="beqline" class="chart chart-line" chart-data="LnCtrl.data"
                            chart-labels="LnCtrl.labels" chart-legend="true" chart-series="LnCtrl.series"
                            chart-click="LnCtrl.onClick" height="280" width="950" chart-colours="LnCtrl.Colours"></canvas>-->
                    <canvas id="beqline" class="chart-bar" chart-data="LnCtrl.data" chart-labels="LnCtrl.labels"
                            chart-colors="LnCtrl.Colours"
                            chart-dataset-override="LnCtrl.datasetOverride" height="280" width="950" chart-options="LnCtrl.optionsMixed" chart-legend="true"></canvas> 
                  
                    <!-- /area-chart -->
                </div>
                <!-- /widget-content -->
            </div>
        </div>
    </div>
    <div>
        <div class="col-md-6">
            <div class="widget widget-nopad">
                <div class="widget-header">
                    <i class="fa fa-exclamation-triangle" style="margin-left:0.5em"></i>
                    <h3 style="margin:0px">Technical Exception Queue</h3>
                </div>
                <!-- /widget-header -->
                <div class="dashboard-widget-content" style="overflow-y:auto;">
                    <div ng-show="!DashBoardCtrl.TEQSummaryList">
                        <i class="fa fa-spinner fa-spin fa-3x fa-fw margin-bottom"></i>
                        <span class="sr-only">Loading...</span>
                    </div>
                    <div class="shortcuts">
                        <a  href="#/Exceptions/{{Exception.ExceptionName}}" ng-class="{'shortcut shortcut-danger':Exception.NoOfExceptions >= Exception.ThreshholdCount,'shortcut shortcut-info':Exception.NoOfExceptions < Exception.ThreshholdCount}"  ng-repeat="Exception in DashBoardCtrl.TEQSummaryList | limitTo:100">
                            <span ng-class="{'shortcut-header':Exception.NoOfExceptions >= Exception.ThreshholdCount,'shortcut-headerSuccess':Exception.NoOfExceptions < Exception.ThreshholdCount}">{{Exception.ExceptionName}}</span>
                            <span class="value">{{Exception.NoOfExceptions}}</span><br />
                            <span class="value">{{Exception.DateTime}}</span>
                        </a>
                    </div>
                </div>
                <!-- /widget-content -->
            </div>
        </div>
        <div class="col-md-6">
            <div class="widget">
                <div class="widget-header">
                    <i class="icon-signal"></i>
                    <h3 style="margin:0px">Technical Exceptions</h3>
                </div>
                <!-- /widget-header -->
                <!-- /widget-content -->
                <div class="dashboard-widget-content" ng-controller="TEQLineCtrl as teqLnchartCtrl">
                    <div ng-show="!teqLnchartCtrl.data">
                        <i class="fa fa-spinner fa-spin fa-3x fa-fw margin-bottom"></i>
                        <span class="sr-only">Loading...</span>
                    </div>

                    <canvas id="teqline" class="chart-bar" chart-data="teqLnchartCtrl.data" chart-labels="teqLnchartCtrl.labels"
                            chart-colors="teqLnchartCtrl.Colours" 
                            chart-dataset-override="teqLnchartCtrl.datasetOverride" height="280" width="950" chart-options="teqLnchartCtrl.optionsMixed" chart-legend="true"></canvas> 

                    <!--<canvas id="teqline" class="chart-bar"
                            chart-data="teqLnchartCtrl.data" chart-labels="teqLnchartCtrl.labels" chart-colors="teqLnchartCtrl.Colours"
                            chart-dataset-override="teqLnchartCtrl.datasetOverride"></canvas>--> 
                    <!--<canvas id="teqline" class="chart chart-line" chart-data="teqLnchartCtrl.data"
                            chart-labels="teqLnchartCtrl.labels" chart-legend="true" chart-series="teqLnchartCtrl.series"
                            chart-click="teqLnchartCtrl.onClick" height="250" width="950" chart-colours="teqLnchartCtrl.Colours"></canvas>-->
                    
                    <!-- /area-chart -->
                </div>
                <!-- /widget-content -->
            </div>
        </div>
    </div>
</div>
<!-- Placed at the end of the document so the pages load faster -->
